<app-header></app-header>

<div class="event-hub-container">
  <div class="welcome-section">
    <h1 class="welcome-title">Welcome back, {{ userName() }}</h1>
    <p class="welcome-subtitle">Stay connected with upcoming company events and activities</p>
  </div>

  <div class="events-section">
    <div class="events-header">
      <h2 class="events-title">Upcoming Events</h2>
      <a href="#" class="view-all-link">
        <span class="arrow-icon">â†’</span>
        View all
      </a>
    </div>

    @if (loading()) {
    <div class="loading">Loading events...</div>
    } @else if (events().length === 0) {
    <div class="no-events">No upcoming events</div>
    } @else {
    <div class="events-list">
      @for (event of events(); track event.id) {
      <div class="event-card">
        <div class="event-date-box">
          <div class="date-month">{{ formatDate(event.date).month }}</div>
          <div class="date-day">{{ formatDate(event.date).day }}</div>
        </div>

        <div class="event-content">
          <div class="event-header">
            <h3 class="event-title">{{ event.title }}</h3>
            <span class="status-badge" [ngClass]="getStatusClass(event.status)">
              {{ event.status }}
            </span>
          </div>

          <div class="event-details">
            <span class="detail-item">
              <span class="icon">ğŸ•</span>
              {{ event.startTime }} - {{ event.endTime }}
            </span>
            <span class="detail-item">
              <span class="icon">ğŸ“</span>
              {{ event.location }}
            </span>
            <span class="detail-item">
              <span class="icon">ğŸ·ï¸</span>
              {{ event.category }}
            </span>
          </div>

          <p class="event-description">{{ event.description }}</p>

          <div class="event-footer">
            <div class="registration-info">
              <span class="people-icon">ğŸ‘¥</span>
              <span class="registered-count">+{{ event.registeredCount }} registered</span>
              <span class="spots-info">{{ getRegistrationInfo(event) }}</span>
            </div>
            <button class="view-details-btn">View Details</button>
          </div>
        </div>
      </div>
      }
    </div>
    }
  </div>
</div>
